import pandas as pd
import matplotlib.pyplot as plt

# Read DataFrame from clipboard
df = pd.read_clipboard()

# Convert 'Maturity' to datetime format (if necessary)
df['Maturity'] = pd.to_datetime(df['Maturity'])

# Filter for maturity in 2024
df_2024 = df[df['Maturity'].dt.year == 2024]

# Group data, including maturity month
df_grouped = df_2024.groupby(['Sub-Asset Class', df_2024['Maturity'].dt.month])['Par value'].sum()

# Unstack to pivot Sub-Asset Class into columns
df_pivoted = df_grouped.unstack(fill_value=0)  # Fill missing values with 0

# Plot
plt.figure(figsize=(12, 6)) 
df_pivoted.plot(kind='bar')

# Customize plot
plt.xlabel('Maturity Month')
plt.ylabel('Par Value (2024)')
plt.title('Par Value by Maturity Month (2024)')
plt.xticks(rotation=0)  # No x-axis label rotation needed
plt.tight_layout()
plt.legend(title='Sub-Asset Class') 

plt.show()
