import configparser

class ConfigLoader:
    def __init__(self, config_file):
        """
        Initialize the ConfigLoader instance with attributes from all sections of the config file.

        Parameters:
        - config_file (str): Path to the configuration file (e.g., 'config.ini').
        """
        # Create a ConfigParser object
        config = configparser.ConfigParser()

        # Read the config file
        config.read(config_file)

        # Iterate over each section in the config file
        for section in config.sections():
            # Iterate over key-value pairs in each section
            for key, value in config[section].items():
                # Create attribute name as SECTION_NAME_key
                attr_name = f"{section}_{key}"
                # Set the attribute on the instance
                setattr(self, attr_name, value)

    def get_attribute(self, attr_name):
        """
        Get the value of a specified attribute.

        Parameters:
        - attr_name (str): The name of the attribute to retrieve.

        Returns:
        - The value of the specified attribute, or None if it does not exist.
        """
        return getattr(self, attr_name, None)

    def display_attributes(self):
        """
        Display all the attributes of the instance along with their values.
        """
        attributes = vars(self)
        for key, value in attributes.items():
            print(f"{key}: {value}")

# Example usage:
# Assuming config.ini contains multiple sections with key-value pairs

# config.ini example:
# [default]
# username = admin
# password = secret
# host = localhost
# port = 8080

# [database]
# db_name = mydatabase
# db_user = dbadmin
# db_password = dbsecret

# Create an instance of ConfigLoader
config_loader = ConfigLoader('config.ini')

# Accessing attributes
print("Default Username:", config_loader.default_username)
print("Default Password:", config_loader.default_password)
print("Database Name:", config_loader.database_db_name)

# Display all attributes
config_loader.display_attributes()
